function initializeMedia(t,e,a,i,r,o){var d=jQuery("#"+o);if(r==$empty)p=$empty;else{var p=new Image(a,i);p.src=r}jQuery("#media_preview_"+o).popover({trigger:"hover",placement:"right",content:p,html:!0});var n=d.val();d.tooltip("destroy").tooltip({placement:"top",title:n})}function updateField(t){var e=jQuery("#"+t);e.val(jQuery("#imageModal_"+t+" iframe").contents().find("#f_url").val()).trigger("change"),parent.jQuery("#imageModal_"+t,parent.document).modal("hide");var a=e.val(),i=jQuery("#media_preview_"+t).data("popover"),r=new Image(previewWidth,previewHeight);""==a?(i.options.content=empty,jQuery("#"+t).tooltip("destroy")):(r.src=window.$path+a,i.options.content=r,jQuery("#"+t).tooltip("destroy").tooltip({placement:"top",title:a}))}function clearMediaInput(t){return jQuery("#"+t).val("").tooltip("destroy"),jQuery("#media_preview_"+t).data("popover").options.content=window.$empty,!1}jQuery(document).ready(function(t){var e=t(document.body).find('a[data-target^="#imageModal_"]').first();window.$empty=e.attr("data-emptystring"),window.$path=t(this).attr("data-basepath"),t(document.body).find('a[data-target^="#imageModal_"]').each(function(){path=t(this).attr("data-basepath"),empty=t(this).attr("data-emptystring"),source=t(this).attr("data-source"),fieldId=t(this).attr("data-fieldId"),previewWidth=t(this).attr("data-previewWidth"),previewHeight=t(this).attr("data-previewHeight"),initializeMedia(path,$empty,previewWidth,previewHeight,source,fieldId)})});